# coding=utf-8
# *** WARNING: this file was generated by pulumi-language-python. ***
# *** Do not edit by hand unless you're certain you know what you are doing! ***

import builtins as _builtins
import warnings
import sys
import pulumi
import pulumi.runtime
from typing import Any, Mapping, Optional, Sequence, Union, overload
if sys.version_info >= (3, 11):
    from typing import NotRequired, TypedDict, TypeAlias
else:
    from typing_extensions import NotRequired, TypedDict, TypeAlias
from . import _utilities

__all__ = ['DatabricksPlatformMetadataCredentialArgs', 'DatabricksPlatformMetadataCredential']

@pulumi.input_type
class DatabricksPlatformMetadataCredentialArgs:
    def __init__(__self__, *,
                 catalog: pulumi.Input[_builtins.str],
                 connection_id: pulumi.Input[_builtins.int],
                 token: pulumi.Input[_builtins.str],
                 catalog_ingestion_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
                 cost_insights_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
                 cost_optimization_enabled: Optional[pulumi.Input[_builtins.bool]] = None):
        """
        The set of arguments for constructing a DatabricksPlatformMetadataCredential resource.
        :param pulumi.Input[_builtins.str] catalog: The Unity Catalog name to use.
        :param pulumi.Input[_builtins.int] connection_id: The ID of the global connection this credential is associated with. Cannot be changed after creation.
        :param pulumi.Input[_builtins.str] token: The Databricks personal access token.
        :param pulumi.Input[_builtins.bool] catalog_ingestion_enabled: Whether catalog ingestion is enabled for this credential. When enabled, dbt Cloud will ingest metadata about tables, views, and other objects from your data warehouse.
        :param pulumi.Input[_builtins.bool] cost_insights_enabled: Whether cost insights is enabled for this credential.
        :param pulumi.Input[_builtins.bool] cost_optimization_enabled: Whether cost optimization data collection is enabled for this credential.
        """
        pulumi.set(__self__, "catalog", catalog)
        pulumi.set(__self__, "connection_id", connection_id)
        pulumi.set(__self__, "token", token)
        if catalog_ingestion_enabled is not None:
            pulumi.set(__self__, "catalog_ingestion_enabled", catalog_ingestion_enabled)
        if cost_insights_enabled is not None:
            pulumi.set(__self__, "cost_insights_enabled", cost_insights_enabled)
        if cost_optimization_enabled is not None:
            pulumi.set(__self__, "cost_optimization_enabled", cost_optimization_enabled)

    @_builtins.property
    @pulumi.getter
    def catalog(self) -> pulumi.Input[_builtins.str]:
        """
        The Unity Catalog name to use.
        """
        return pulumi.get(self, "catalog")

    @catalog.setter
    def catalog(self, value: pulumi.Input[_builtins.str]):
        pulumi.set(self, "catalog", value)

    @_builtins.property
    @pulumi.getter(name="connectionId")
    def connection_id(self) -> pulumi.Input[_builtins.int]:
        """
        The ID of the global connection this credential is associated with. Cannot be changed after creation.
        """
        return pulumi.get(self, "connection_id")

    @connection_id.setter
    def connection_id(self, value: pulumi.Input[_builtins.int]):
        pulumi.set(self, "connection_id", value)

    @_builtins.property
    @pulumi.getter
    def token(self) -> pulumi.Input[_builtins.str]:
        """
        The Databricks personal access token.
        """
        return pulumi.get(self, "token")

    @token.setter
    def token(self, value: pulumi.Input[_builtins.str]):
        pulumi.set(self, "token", value)

    @_builtins.property
    @pulumi.getter(name="catalogIngestionEnabled")
    def catalog_ingestion_enabled(self) -> Optional[pulumi.Input[_builtins.bool]]:
        """
        Whether catalog ingestion is enabled for this credential. When enabled, dbt Cloud will ingest metadata about tables, views, and other objects from your data warehouse.
        """
        return pulumi.get(self, "catalog_ingestion_enabled")

    @catalog_ingestion_enabled.setter
    def catalog_ingestion_enabled(self, value: Optional[pulumi.Input[_builtins.bool]]):
        pulumi.set(self, "catalog_ingestion_enabled", value)

    @_builtins.property
    @pulumi.getter(name="costInsightsEnabled")
    def cost_insights_enabled(self) -> Optional[pulumi.Input[_builtins.bool]]:
        """
        Whether cost insights is enabled for this credential.
        """
        return pulumi.get(self, "cost_insights_enabled")

    @cost_insights_enabled.setter
    def cost_insights_enabled(self, value: Optional[pulumi.Input[_builtins.bool]]):
        pulumi.set(self, "cost_insights_enabled", value)

    @_builtins.property
    @pulumi.getter(name="costOptimizationEnabled")
    def cost_optimization_enabled(self) -> Optional[pulumi.Input[_builtins.bool]]:
        """
        Whether cost optimization data collection is enabled for this credential.
        """
        return pulumi.get(self, "cost_optimization_enabled")

    @cost_optimization_enabled.setter
    def cost_optimization_enabled(self, value: Optional[pulumi.Input[_builtins.bool]]):
        pulumi.set(self, "cost_optimization_enabled", value)


@pulumi.input_type
class _DatabricksPlatformMetadataCredentialState:
    def __init__(__self__, *,
                 adapter_version: Optional[pulumi.Input[_builtins.str]] = None,
                 catalog: Optional[pulumi.Input[_builtins.str]] = None,
                 catalog_ingestion_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
                 connection_id: Optional[pulumi.Input[_builtins.int]] = None,
                 cost_insights_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
                 cost_optimization_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
                 credential_id: Optional[pulumi.Input[_builtins.int]] = None,
                 token: Optional[pulumi.Input[_builtins.str]] = None):
        """
        Input properties used for looking up and filtering DatabricksPlatformMetadataCredential resources.
        :param pulumi.Input[_builtins.str] adapter_version: The adapter version derived from the connection (e.g., 'snowflake*v0', 'databricks*v0'). This is read-only and determined by the connection.
        :param pulumi.Input[_builtins.str] catalog: The Unity Catalog name to use.
        :param pulumi.Input[_builtins.bool] catalog_ingestion_enabled: Whether catalog ingestion is enabled for this credential. When enabled, dbt Cloud will ingest metadata about tables, views, and other objects from your data warehouse.
        :param pulumi.Input[_builtins.int] connection_id: The ID of the global connection this credential is associated with. Cannot be changed after creation.
        :param pulumi.Input[_builtins.bool] cost_insights_enabled: Whether cost insights is enabled for this credential.
        :param pulumi.Input[_builtins.bool] cost_optimization_enabled: Whether cost optimization data collection is enabled for this credential.
        :param pulumi.Input[_builtins.int] credential_id: The ID of the platform metadata credential.
        :param pulumi.Input[_builtins.str] token: The Databricks personal access token.
        """
        if adapter_version is not None:
            pulumi.set(__self__, "adapter_version", adapter_version)
        if catalog is not None:
            pulumi.set(__self__, "catalog", catalog)
        if catalog_ingestion_enabled is not None:
            pulumi.set(__self__, "catalog_ingestion_enabled", catalog_ingestion_enabled)
        if connection_id is not None:
            pulumi.set(__self__, "connection_id", connection_id)
        if cost_insights_enabled is not None:
            pulumi.set(__self__, "cost_insights_enabled", cost_insights_enabled)
        if cost_optimization_enabled is not None:
            pulumi.set(__self__, "cost_optimization_enabled", cost_optimization_enabled)
        if credential_id is not None:
            pulumi.set(__self__, "credential_id", credential_id)
        if token is not None:
            pulumi.set(__self__, "token", token)

    @_builtins.property
    @pulumi.getter(name="adapterVersion")
    def adapter_version(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        The adapter version derived from the connection (e.g., 'snowflake*v0', 'databricks*v0'). This is read-only and determined by the connection.
        """
        return pulumi.get(self, "adapter_version")

    @adapter_version.setter
    def adapter_version(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "adapter_version", value)

    @_builtins.property
    @pulumi.getter
    def catalog(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        The Unity Catalog name to use.
        """
        return pulumi.get(self, "catalog")

    @catalog.setter
    def catalog(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "catalog", value)

    @_builtins.property
    @pulumi.getter(name="catalogIngestionEnabled")
    def catalog_ingestion_enabled(self) -> Optional[pulumi.Input[_builtins.bool]]:
        """
        Whether catalog ingestion is enabled for this credential. When enabled, dbt Cloud will ingest metadata about tables, views, and other objects from your data warehouse.
        """
        return pulumi.get(self, "catalog_ingestion_enabled")

    @catalog_ingestion_enabled.setter
    def catalog_ingestion_enabled(self, value: Optional[pulumi.Input[_builtins.bool]]):
        pulumi.set(self, "catalog_ingestion_enabled", value)

    @_builtins.property
    @pulumi.getter(name="connectionId")
    def connection_id(self) -> Optional[pulumi.Input[_builtins.int]]:
        """
        The ID of the global connection this credential is associated with. Cannot be changed after creation.
        """
        return pulumi.get(self, "connection_id")

    @connection_id.setter
    def connection_id(self, value: Optional[pulumi.Input[_builtins.int]]):
        pulumi.set(self, "connection_id", value)

    @_builtins.property
    @pulumi.getter(name="costInsightsEnabled")
    def cost_insights_enabled(self) -> Optional[pulumi.Input[_builtins.bool]]:
        """
        Whether cost insights is enabled for this credential.
        """
        return pulumi.get(self, "cost_insights_enabled")

    @cost_insights_enabled.setter
    def cost_insights_enabled(self, value: Optional[pulumi.Input[_builtins.bool]]):
        pulumi.set(self, "cost_insights_enabled", value)

    @_builtins.property
    @pulumi.getter(name="costOptimizationEnabled")
    def cost_optimization_enabled(self) -> Optional[pulumi.Input[_builtins.bool]]:
        """
        Whether cost optimization data collection is enabled for this credential.
        """
        return pulumi.get(self, "cost_optimization_enabled")

    @cost_optimization_enabled.setter
    def cost_optimization_enabled(self, value: Optional[pulumi.Input[_builtins.bool]]):
        pulumi.set(self, "cost_optimization_enabled", value)

    @_builtins.property
    @pulumi.getter(name="credentialId")
    def credential_id(self) -> Optional[pulumi.Input[_builtins.int]]:
        """
        The ID of the platform metadata credential.
        """
        return pulumi.get(self, "credential_id")

    @credential_id.setter
    def credential_id(self, value: Optional[pulumi.Input[_builtins.int]]):
        pulumi.set(self, "credential_id", value)

    @_builtins.property
    @pulumi.getter
    def token(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        The Databricks personal access token.
        """
        return pulumi.get(self, "token")

    @token.setter
    def token(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "token", value)


@pulumi.type_token("dbtcloud:index/databricksPlatformMetadataCredential:DatabricksPlatformMetadataCredential")
class DatabricksPlatformMetadataCredential(pulumi.CustomResource):
    @overload
    def __init__(__self__,
                 resource_name: str,
                 opts: Optional[pulumi.ResourceOptions] = None,
                 catalog: Optional[pulumi.Input[_builtins.str]] = None,
                 catalog_ingestion_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
                 connection_id: Optional[pulumi.Input[_builtins.int]] = None,
                 cost_insights_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
                 cost_optimization_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
                 token: Optional[pulumi.Input[_builtins.str]] = None,
                 __props__=None):
        """
        Manages Databricks platform metadata credentials for external metadata ingestion in dbt Cloud.

        This resource configures credentials that allow dbt Cloud to connect directly to your Databricks workspace
        to ingest metadata outside of normal dbt project runs. This enables features like:

        - **Catalog Ingestion**: Ingest metadata about tables/views not defined in dbt
        - **Cost Optimization**: Query warehouse cost and performance data
        - **Cost Insights**: Enhanced cost visibility and analysis

        > **Note:** At least one of `catalog_ingestion_enabled`, `cost_optimization_enabled`, or
        `cost_insights_enabled` must be enabled for the credential to be usable.

        > **Note:** The `connection_id` cannot be changed after creation. To use a different connection,
        you must destroy and recreate the resource.

        ## Example Usage

        ```python
        import pulumi
        import pulumi_dbtcloud as dbtcloud

        # Example: Databricks Platform Metadata Credential
        example = dbtcloud.DatabricksPlatformMetadataCredential("example",
            connection_id=databricks["id"],
            catalog_ingestion_enabled=True,
            cost_optimization_enabled=False,
            cost_insights_enabled=False,
            token=databricks_token,
            catalog="main")
        ```

        :param str resource_name: The name of the resource.
        :param pulumi.ResourceOptions opts: Options for the resource.
        :param pulumi.Input[_builtins.str] catalog: The Unity Catalog name to use.
        :param pulumi.Input[_builtins.bool] catalog_ingestion_enabled: Whether catalog ingestion is enabled for this credential. When enabled, dbt Cloud will ingest metadata about tables, views, and other objects from your data warehouse.
        :param pulumi.Input[_builtins.int] connection_id: The ID of the global connection this credential is associated with. Cannot be changed after creation.
        :param pulumi.Input[_builtins.bool] cost_insights_enabled: Whether cost insights is enabled for this credential.
        :param pulumi.Input[_builtins.bool] cost_optimization_enabled: Whether cost optimization data collection is enabled for this credential.
        :param pulumi.Input[_builtins.str] token: The Databricks personal access token.
        """
        ...
    @overload
    def __init__(__self__,
                 resource_name: str,
                 args: DatabricksPlatformMetadataCredentialArgs,
                 opts: Optional[pulumi.ResourceOptions] = None):
        """
        Manages Databricks platform metadata credentials for external metadata ingestion in dbt Cloud.

        This resource configures credentials that allow dbt Cloud to connect directly to your Databricks workspace
        to ingest metadata outside of normal dbt project runs. This enables features like:

        - **Catalog Ingestion**: Ingest metadata about tables/views not defined in dbt
        - **Cost Optimization**: Query warehouse cost and performance data
        - **Cost Insights**: Enhanced cost visibility and analysis

        > **Note:** At least one of `catalog_ingestion_enabled`, `cost_optimization_enabled`, or
        `cost_insights_enabled` must be enabled for the credential to be usable.

        > **Note:** The `connection_id` cannot be changed after creation. To use a different connection,
        you must destroy and recreate the resource.

        ## Example Usage

        ```python
        import pulumi
        import pulumi_dbtcloud as dbtcloud

        # Example: Databricks Platform Metadata Credential
        example = dbtcloud.DatabricksPlatformMetadataCredential("example",
            connection_id=databricks["id"],
            catalog_ingestion_enabled=True,
            cost_optimization_enabled=False,
            cost_insights_enabled=False,
            token=databricks_token,
            catalog="main")
        ```

        :param str resource_name: The name of the resource.
        :param DatabricksPlatformMetadataCredentialArgs args: The arguments to use to populate this resource's properties.
        :param pulumi.ResourceOptions opts: Options for the resource.
        """
        ...
    def __init__(__self__, resource_name: str, *args, **kwargs):
        resource_args, opts = _utilities.get_resource_args_opts(DatabricksPlatformMetadataCredentialArgs, pulumi.ResourceOptions, *args, **kwargs)
        if resource_args is not None:
            __self__._internal_init(resource_name, opts, **resource_args.__dict__)
        else:
            __self__._internal_init(resource_name, *args, **kwargs)

    def _internal_init(__self__,
                 resource_name: str,
                 opts: Optional[pulumi.ResourceOptions] = None,
                 catalog: Optional[pulumi.Input[_builtins.str]] = None,
                 catalog_ingestion_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
                 connection_id: Optional[pulumi.Input[_builtins.int]] = None,
                 cost_insights_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
                 cost_optimization_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
                 token: Optional[pulumi.Input[_builtins.str]] = None,
                 __props__=None):
        opts = pulumi.ResourceOptions.merge(_utilities.get_resource_opts_defaults(), opts)
        if not isinstance(opts, pulumi.ResourceOptions):
            raise TypeError('Expected resource options to be a ResourceOptions instance')
        if opts.id is None:
            if __props__ is not None:
                raise TypeError('__props__ is only valid when passed in combination with a valid opts.id to get an existing resource')
            __props__ = DatabricksPlatformMetadataCredentialArgs.__new__(DatabricksPlatformMetadataCredentialArgs)

            if catalog is None and not opts.urn:
                raise TypeError("Missing required property 'catalog'")
            __props__.__dict__["catalog"] = catalog
            __props__.__dict__["catalog_ingestion_enabled"] = catalog_ingestion_enabled
            if connection_id is None and not opts.urn:
                raise TypeError("Missing required property 'connection_id'")
            __props__.__dict__["connection_id"] = connection_id
            __props__.__dict__["cost_insights_enabled"] = cost_insights_enabled
            __props__.__dict__["cost_optimization_enabled"] = cost_optimization_enabled
            if token is None and not opts.urn:
                raise TypeError("Missing required property 'token'")
            __props__.__dict__["token"] = None if token is None else pulumi.Output.secret(token)
            __props__.__dict__["adapter_version"] = None
            __props__.__dict__["credential_id"] = None
        secret_opts = pulumi.ResourceOptions(additional_secret_outputs=["token"])
        opts = pulumi.ResourceOptions.merge(opts, secret_opts)
        super(DatabricksPlatformMetadataCredential, __self__).__init__(
            'dbtcloud:index/databricksPlatformMetadataCredential:DatabricksPlatformMetadataCredential',
            resource_name,
            __props__,
            opts)

    @staticmethod
    def get(resource_name: str,
            id: pulumi.Input[str],
            opts: Optional[pulumi.ResourceOptions] = None,
            adapter_version: Optional[pulumi.Input[_builtins.str]] = None,
            catalog: Optional[pulumi.Input[_builtins.str]] = None,
            catalog_ingestion_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
            connection_id: Optional[pulumi.Input[_builtins.int]] = None,
            cost_insights_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
            cost_optimization_enabled: Optional[pulumi.Input[_builtins.bool]] = None,
            credential_id: Optional[pulumi.Input[_builtins.int]] = None,
            token: Optional[pulumi.Input[_builtins.str]] = None) -> 'DatabricksPlatformMetadataCredential':
        """
        Get an existing DatabricksPlatformMetadataCredential resource's state with the given name, id, and optional extra
        properties used to qualify the lookup.

        :param str resource_name: The unique name of the resulting resource.
        :param pulumi.Input[str] id: The unique provider ID of the resource to lookup.
        :param pulumi.ResourceOptions opts: Options for the resource.
        :param pulumi.Input[_builtins.str] adapter_version: The adapter version derived from the connection (e.g., 'snowflake*v0', 'databricks*v0'). This is read-only and determined by the connection.
        :param pulumi.Input[_builtins.str] catalog: The Unity Catalog name to use.
        :param pulumi.Input[_builtins.bool] catalog_ingestion_enabled: Whether catalog ingestion is enabled for this credential. When enabled, dbt Cloud will ingest metadata about tables, views, and other objects from your data warehouse.
        :param pulumi.Input[_builtins.int] connection_id: The ID of the global connection this credential is associated with. Cannot be changed after creation.
        :param pulumi.Input[_builtins.bool] cost_insights_enabled: Whether cost insights is enabled for this credential.
        :param pulumi.Input[_builtins.bool] cost_optimization_enabled: Whether cost optimization data collection is enabled for this credential.
        :param pulumi.Input[_builtins.int] credential_id: The ID of the platform metadata credential.
        :param pulumi.Input[_builtins.str] token: The Databricks personal access token.
        """
        opts = pulumi.ResourceOptions.merge(opts, pulumi.ResourceOptions(id=id))

        __props__ = _DatabricksPlatformMetadataCredentialState.__new__(_DatabricksPlatformMetadataCredentialState)

        __props__.__dict__["adapter_version"] = adapter_version
        __props__.__dict__["catalog"] = catalog
        __props__.__dict__["catalog_ingestion_enabled"] = catalog_ingestion_enabled
        __props__.__dict__["connection_id"] = connection_id
        __props__.__dict__["cost_insights_enabled"] = cost_insights_enabled
        __props__.__dict__["cost_optimization_enabled"] = cost_optimization_enabled
        __props__.__dict__["credential_id"] = credential_id
        __props__.__dict__["token"] = token
        return DatabricksPlatformMetadataCredential(resource_name, opts=opts, __props__=__props__)

    @_builtins.property
    @pulumi.getter(name="adapterVersion")
    def adapter_version(self) -> pulumi.Output[_builtins.str]:
        """
        The adapter version derived from the connection (e.g., 'snowflake*v0', 'databricks*v0'). This is read-only and determined by the connection.
        """
        return pulumi.get(self, "adapter_version")

    @_builtins.property
    @pulumi.getter
    def catalog(self) -> pulumi.Output[_builtins.str]:
        """
        The Unity Catalog name to use.
        """
        return pulumi.get(self, "catalog")

    @_builtins.property
    @pulumi.getter(name="catalogIngestionEnabled")
    def catalog_ingestion_enabled(self) -> pulumi.Output[_builtins.bool]:
        """
        Whether catalog ingestion is enabled for this credential. When enabled, dbt Cloud will ingest metadata about tables, views, and other objects from your data warehouse.
        """
        return pulumi.get(self, "catalog_ingestion_enabled")

    @_builtins.property
    @pulumi.getter(name="connectionId")
    def connection_id(self) -> pulumi.Output[_builtins.int]:
        """
        The ID of the global connection this credential is associated with. Cannot be changed after creation.
        """
        return pulumi.get(self, "connection_id")

    @_builtins.property
    @pulumi.getter(name="costInsightsEnabled")
    def cost_insights_enabled(self) -> pulumi.Output[_builtins.bool]:
        """
        Whether cost insights is enabled for this credential.
        """
        return pulumi.get(self, "cost_insights_enabled")

    @_builtins.property
    @pulumi.getter(name="costOptimizationEnabled")
    def cost_optimization_enabled(self) -> pulumi.Output[_builtins.bool]:
        """
        Whether cost optimization data collection is enabled for this credential.
        """
        return pulumi.get(self, "cost_optimization_enabled")

    @_builtins.property
    @pulumi.getter(name="credentialId")
    def credential_id(self) -> pulumi.Output[_builtins.int]:
        """
        The ID of the platform metadata credential.
        """
        return pulumi.get(self, "credential_id")

    @_builtins.property
    @pulumi.getter
    def token(self) -> pulumi.Output[_builtins.str]:
        """
        The Databricks personal access token.
        """
        return pulumi.get(self, "token")

