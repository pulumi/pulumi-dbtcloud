// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package dbtcloud

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-dbtcloud/sdk/go/dbtcloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Manages catalog configuration filters for a dbt Cloud connection.
//
// This resource configures what database objects (databases, schemas, tables, views) are included
// or excluded when ingesting metadata from your data warehouse. It works in conjunction with
// platform metadata credentials to control what gets synchronized into dbt Cloud's catalog.
//
// Each filter type has an "allow" list (whitelist) and a "deny" list (blacklist):
// - If an allow list is set, only matching objects are included
// - If a deny list is set, matching objects are excluded
// - Deny takes precedence over allow
// - Patterns support wildcards (e.g., "temp_*")
//
// > **Note:** The `connectionId` cannot be changed after creation. To use a different connection,
// you must destroy and recreate the resource.
//
// > **Note:** This resource requires a platform metadata credential to be configured for the connection.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-dbtcloud/sdk/go/dbtcloud"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// Example: Configure catalog filters for a Snowflake connection
//			_, err := dbtcloud.NewConnectionCatalogConfig(ctx, "snowflake_filters", &dbtcloud.ConnectionCatalogConfigArgs{
//				ConnectionId: pulumi.Any(snowflake.Id),
//				DatabaseAllows: pulumi.StringArray{
//					pulumi.String("analytics"),
//					pulumi.String("reporting"),
//				},
//				SchemaDenies: pulumi.StringArray{
//					pulumi.String("staging"),
//					pulumi.String("temp"),
//					pulumi.String("scratch"),
//				},
//				TableDenies: pulumi.StringArray{
//					pulumi.String("tmp_*"),
//					pulumi.String("temp_*"),
//				},
//				ViewDenies: pulumi.StringArray{
//					pulumi.String("secret_*"),
//					pulumi.String("internal_*"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			// Example: Minimal configuration - just filter databases
//			_, err = dbtcloud.NewConnectionCatalogConfig(ctx, "minimal", &dbtcloud.ConnectionCatalogConfigArgs{
//				ConnectionId: pulumi.Any(snowflake.Id),
//				DatabaseAllows: pulumi.StringArray{
//					pulumi.String("production"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			// Example: Full configuration with platform metadata credential
//			creds, err := dbtcloud.NewSnowflakePlatformMetadataCredential(ctx, "creds", &dbtcloud.SnowflakePlatformMetadataCredentialArgs{
//				ConnectionId:            pulumi.Any(snowflake.Id),
//				CatalogIngestionEnabled: pulumi.Bool(true),
//				AuthType:                pulumi.String("password"),
//				User:                    pulumi.Any(snowflakeUser),
//				Password:                pulumi.Any(snowflakePassword),
//				Role:                    pulumi.Any(snowflakeRole),
//				Warehouse:               pulumi.Any(snowflakeWarehouse),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = dbtcloud.NewConnectionCatalogConfig(ctx, "with_creds", &dbtcloud.ConnectionCatalogConfigArgs{
//				ConnectionId: pulumi.Any(snowflake.Id),
//				DatabaseAllows: pulumi.StringArray{
//					pulumi.String("analytics"),
//					pulumi.String("reporting"),
//				},
//				DatabaseDenies: pulumi.StringArray{
//					pulumi.String("sandbox"),
//				},
//				SchemaAllows: pulumi.StringArray{
//					pulumi.String("public"),
//					pulumi.String("dbt_*"),
//				},
//				SchemaDenies: pulumi.StringArray{
//					pulumi.String("information_schema"),
//					pulumi.String("pg_*"),
//				},
//				TableDenies: pulumi.StringArray{
//					pulumi.String("_tmp_*"),
//					pulumi.String("_staging_*"),
//				},
//				ViewDenies: pulumi.StringArray{
//					pulumi.String("_internal_*"),
//				},
//			}, pulumi.DependsOn([]pulumi.Resource{
//				creds,
//			}))
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type ConnectionCatalogConfig struct {
	pulumi.CustomResourceState

	// The ID of the global connection this catalog config is associated with. Cannot be changed after creation.
	ConnectionId pulumi.IntOutput `pulumi:"connectionId"`
	// List of database names to include. Supports wildcards (e.g., 'analytics_*'). If set, only these databases are ingested.
	DatabaseAllows pulumi.StringArrayOutput `pulumi:"databaseAllows"`
	// List of database names to exclude. Supports wildcards (e.g., 'staging_*'). Matching databases are not ingested.
	DatabaseDenies pulumi.StringArrayOutput `pulumi:"databaseDenies"`
	// List of schema names to include. Supports wildcards (e.g., 'public_*'). If set, only these schemas are ingested.
	SchemaAllows pulumi.StringArrayOutput `pulumi:"schemaAllows"`
	// List of schema names to exclude. Supports wildcards (e.g., 'temp_*'). Matching schemas are not ingested.
	SchemaDenies pulumi.StringArrayOutput `pulumi:"schemaDenies"`
	// List of table names to include. Supports wildcards (e.g., 'fact_*'). If set, only these tables are ingested.
	TableAllows pulumi.StringArrayOutput `pulumi:"tableAllows"`
	// List of table names to exclude. Supports wildcards (e.g., 'tmp_*'). Matching tables are not ingested.
	TableDenies pulumi.StringArrayOutput `pulumi:"tableDenies"`
	// List of view names to include. Supports wildcards (e.g., 'v_*'). If set, only these views are ingested.
	ViewAllows pulumi.StringArrayOutput `pulumi:"viewAllows"`
	// List of view names to exclude. Supports wildcards (e.g., 'secret_*'). Matching views are not ingested.
	ViewDenies pulumi.StringArrayOutput `pulumi:"viewDenies"`
}

// NewConnectionCatalogConfig registers a new resource with the given unique name, arguments, and options.
func NewConnectionCatalogConfig(ctx *pulumi.Context,
	name string, args *ConnectionCatalogConfigArgs, opts ...pulumi.ResourceOption) (*ConnectionCatalogConfig, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ConnectionId == nil {
		return nil, errors.New("invalid value for required argument 'ConnectionId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ConnectionCatalogConfig
	err := ctx.RegisterResource("dbtcloud:index/connectionCatalogConfig:ConnectionCatalogConfig", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetConnectionCatalogConfig gets an existing ConnectionCatalogConfig resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetConnectionCatalogConfig(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ConnectionCatalogConfigState, opts ...pulumi.ResourceOption) (*ConnectionCatalogConfig, error) {
	var resource ConnectionCatalogConfig
	err := ctx.ReadResource("dbtcloud:index/connectionCatalogConfig:ConnectionCatalogConfig", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ConnectionCatalogConfig resources.
type connectionCatalogConfigState struct {
	// The ID of the global connection this catalog config is associated with. Cannot be changed after creation.
	ConnectionId *int `pulumi:"connectionId"`
	// List of database names to include. Supports wildcards (e.g., 'analytics_*'). If set, only these databases are ingested.
	DatabaseAllows []string `pulumi:"databaseAllows"`
	// List of database names to exclude. Supports wildcards (e.g., 'staging_*'). Matching databases are not ingested.
	DatabaseDenies []string `pulumi:"databaseDenies"`
	// List of schema names to include. Supports wildcards (e.g., 'public_*'). If set, only these schemas are ingested.
	SchemaAllows []string `pulumi:"schemaAllows"`
	// List of schema names to exclude. Supports wildcards (e.g., 'temp_*'). Matching schemas are not ingested.
	SchemaDenies []string `pulumi:"schemaDenies"`
	// List of table names to include. Supports wildcards (e.g., 'fact_*'). If set, only these tables are ingested.
	TableAllows []string `pulumi:"tableAllows"`
	// List of table names to exclude. Supports wildcards (e.g., 'tmp_*'). Matching tables are not ingested.
	TableDenies []string `pulumi:"tableDenies"`
	// List of view names to include. Supports wildcards (e.g., 'v_*'). If set, only these views are ingested.
	ViewAllows []string `pulumi:"viewAllows"`
	// List of view names to exclude. Supports wildcards (e.g., 'secret_*'). Matching views are not ingested.
	ViewDenies []string `pulumi:"viewDenies"`
}

type ConnectionCatalogConfigState struct {
	// The ID of the global connection this catalog config is associated with. Cannot be changed after creation.
	ConnectionId pulumi.IntPtrInput
	// List of database names to include. Supports wildcards (e.g., 'analytics_*'). If set, only these databases are ingested.
	DatabaseAllows pulumi.StringArrayInput
	// List of database names to exclude. Supports wildcards (e.g., 'staging_*'). Matching databases are not ingested.
	DatabaseDenies pulumi.StringArrayInput
	// List of schema names to include. Supports wildcards (e.g., 'public_*'). If set, only these schemas are ingested.
	SchemaAllows pulumi.StringArrayInput
	// List of schema names to exclude. Supports wildcards (e.g., 'temp_*'). Matching schemas are not ingested.
	SchemaDenies pulumi.StringArrayInput
	// List of table names to include. Supports wildcards (e.g., 'fact_*'). If set, only these tables are ingested.
	TableAllows pulumi.StringArrayInput
	// List of table names to exclude. Supports wildcards (e.g., 'tmp_*'). Matching tables are not ingested.
	TableDenies pulumi.StringArrayInput
	// List of view names to include. Supports wildcards (e.g., 'v_*'). If set, only these views are ingested.
	ViewAllows pulumi.StringArrayInput
	// List of view names to exclude. Supports wildcards (e.g., 'secret_*'). Matching views are not ingested.
	ViewDenies pulumi.StringArrayInput
}

func (ConnectionCatalogConfigState) ElementType() reflect.Type {
	return reflect.TypeOf((*connectionCatalogConfigState)(nil)).Elem()
}

type connectionCatalogConfigArgs struct {
	// The ID of the global connection this catalog config is associated with. Cannot be changed after creation.
	ConnectionId int `pulumi:"connectionId"`
	// List of database names to include. Supports wildcards (e.g., 'analytics_*'). If set, only these databases are ingested.
	DatabaseAllows []string `pulumi:"databaseAllows"`
	// List of database names to exclude. Supports wildcards (e.g., 'staging_*'). Matching databases are not ingested.
	DatabaseDenies []string `pulumi:"databaseDenies"`
	// List of schema names to include. Supports wildcards (e.g., 'public_*'). If set, only these schemas are ingested.
	SchemaAllows []string `pulumi:"schemaAllows"`
	// List of schema names to exclude. Supports wildcards (e.g., 'temp_*'). Matching schemas are not ingested.
	SchemaDenies []string `pulumi:"schemaDenies"`
	// List of table names to include. Supports wildcards (e.g., 'fact_*'). If set, only these tables are ingested.
	TableAllows []string `pulumi:"tableAllows"`
	// List of table names to exclude. Supports wildcards (e.g., 'tmp_*'). Matching tables are not ingested.
	TableDenies []string `pulumi:"tableDenies"`
	// List of view names to include. Supports wildcards (e.g., 'v_*'). If set, only these views are ingested.
	ViewAllows []string `pulumi:"viewAllows"`
	// List of view names to exclude. Supports wildcards (e.g., 'secret_*'). Matching views are not ingested.
	ViewDenies []string `pulumi:"viewDenies"`
}

// The set of arguments for constructing a ConnectionCatalogConfig resource.
type ConnectionCatalogConfigArgs struct {
	// The ID of the global connection this catalog config is associated with. Cannot be changed after creation.
	ConnectionId pulumi.IntInput
	// List of database names to include. Supports wildcards (e.g., 'analytics_*'). If set, only these databases are ingested.
	DatabaseAllows pulumi.StringArrayInput
	// List of database names to exclude. Supports wildcards (e.g., 'staging_*'). Matching databases are not ingested.
	DatabaseDenies pulumi.StringArrayInput
	// List of schema names to include. Supports wildcards (e.g., 'public_*'). If set, only these schemas are ingested.
	SchemaAllows pulumi.StringArrayInput
	// List of schema names to exclude. Supports wildcards (e.g., 'temp_*'). Matching schemas are not ingested.
	SchemaDenies pulumi.StringArrayInput
	// List of table names to include. Supports wildcards (e.g., 'fact_*'). If set, only these tables are ingested.
	TableAllows pulumi.StringArrayInput
	// List of table names to exclude. Supports wildcards (e.g., 'tmp_*'). Matching tables are not ingested.
	TableDenies pulumi.StringArrayInput
	// List of view names to include. Supports wildcards (e.g., 'v_*'). If set, only these views are ingested.
	ViewAllows pulumi.StringArrayInput
	// List of view names to exclude. Supports wildcards (e.g., 'secret_*'). Matching views are not ingested.
	ViewDenies pulumi.StringArrayInput
}

func (ConnectionCatalogConfigArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*connectionCatalogConfigArgs)(nil)).Elem()
}

type ConnectionCatalogConfigInput interface {
	pulumi.Input

	ToConnectionCatalogConfigOutput() ConnectionCatalogConfigOutput
	ToConnectionCatalogConfigOutputWithContext(ctx context.Context) ConnectionCatalogConfigOutput
}

func (*ConnectionCatalogConfig) ElementType() reflect.Type {
	return reflect.TypeOf((**ConnectionCatalogConfig)(nil)).Elem()
}

func (i *ConnectionCatalogConfig) ToConnectionCatalogConfigOutput() ConnectionCatalogConfigOutput {
	return i.ToConnectionCatalogConfigOutputWithContext(context.Background())
}

func (i *ConnectionCatalogConfig) ToConnectionCatalogConfigOutputWithContext(ctx context.Context) ConnectionCatalogConfigOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ConnectionCatalogConfigOutput)
}

// ConnectionCatalogConfigArrayInput is an input type that accepts ConnectionCatalogConfigArray and ConnectionCatalogConfigArrayOutput values.
// You can construct a concrete instance of `ConnectionCatalogConfigArrayInput` via:
//
//	ConnectionCatalogConfigArray{ ConnectionCatalogConfigArgs{...} }
type ConnectionCatalogConfigArrayInput interface {
	pulumi.Input

	ToConnectionCatalogConfigArrayOutput() ConnectionCatalogConfigArrayOutput
	ToConnectionCatalogConfigArrayOutputWithContext(context.Context) ConnectionCatalogConfigArrayOutput
}

type ConnectionCatalogConfigArray []ConnectionCatalogConfigInput

func (ConnectionCatalogConfigArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ConnectionCatalogConfig)(nil)).Elem()
}

func (i ConnectionCatalogConfigArray) ToConnectionCatalogConfigArrayOutput() ConnectionCatalogConfigArrayOutput {
	return i.ToConnectionCatalogConfigArrayOutputWithContext(context.Background())
}

func (i ConnectionCatalogConfigArray) ToConnectionCatalogConfigArrayOutputWithContext(ctx context.Context) ConnectionCatalogConfigArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ConnectionCatalogConfigArrayOutput)
}

// ConnectionCatalogConfigMapInput is an input type that accepts ConnectionCatalogConfigMap and ConnectionCatalogConfigMapOutput values.
// You can construct a concrete instance of `ConnectionCatalogConfigMapInput` via:
//
//	ConnectionCatalogConfigMap{ "key": ConnectionCatalogConfigArgs{...} }
type ConnectionCatalogConfigMapInput interface {
	pulumi.Input

	ToConnectionCatalogConfigMapOutput() ConnectionCatalogConfigMapOutput
	ToConnectionCatalogConfigMapOutputWithContext(context.Context) ConnectionCatalogConfigMapOutput
}

type ConnectionCatalogConfigMap map[string]ConnectionCatalogConfigInput

func (ConnectionCatalogConfigMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ConnectionCatalogConfig)(nil)).Elem()
}

func (i ConnectionCatalogConfigMap) ToConnectionCatalogConfigMapOutput() ConnectionCatalogConfigMapOutput {
	return i.ToConnectionCatalogConfigMapOutputWithContext(context.Background())
}

func (i ConnectionCatalogConfigMap) ToConnectionCatalogConfigMapOutputWithContext(ctx context.Context) ConnectionCatalogConfigMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ConnectionCatalogConfigMapOutput)
}

type ConnectionCatalogConfigOutput struct{ *pulumi.OutputState }

func (ConnectionCatalogConfigOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ConnectionCatalogConfig)(nil)).Elem()
}

func (o ConnectionCatalogConfigOutput) ToConnectionCatalogConfigOutput() ConnectionCatalogConfigOutput {
	return o
}

func (o ConnectionCatalogConfigOutput) ToConnectionCatalogConfigOutputWithContext(ctx context.Context) ConnectionCatalogConfigOutput {
	return o
}

// The ID of the global connection this catalog config is associated with. Cannot be changed after creation.
func (o ConnectionCatalogConfigOutput) ConnectionId() pulumi.IntOutput {
	return o.ApplyT(func(v *ConnectionCatalogConfig) pulumi.IntOutput { return v.ConnectionId }).(pulumi.IntOutput)
}

// List of database names to include. Supports wildcards (e.g., 'analytics_*'). If set, only these databases are ingested.
func (o ConnectionCatalogConfigOutput) DatabaseAllows() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ConnectionCatalogConfig) pulumi.StringArrayOutput { return v.DatabaseAllows }).(pulumi.StringArrayOutput)
}

// List of database names to exclude. Supports wildcards (e.g., 'staging_*'). Matching databases are not ingested.
func (o ConnectionCatalogConfigOutput) DatabaseDenies() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ConnectionCatalogConfig) pulumi.StringArrayOutput { return v.DatabaseDenies }).(pulumi.StringArrayOutput)
}

// List of schema names to include. Supports wildcards (e.g., 'public_*'). If set, only these schemas are ingested.
func (o ConnectionCatalogConfigOutput) SchemaAllows() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ConnectionCatalogConfig) pulumi.StringArrayOutput { return v.SchemaAllows }).(pulumi.StringArrayOutput)
}

// List of schema names to exclude. Supports wildcards (e.g., 'temp_*'). Matching schemas are not ingested.
func (o ConnectionCatalogConfigOutput) SchemaDenies() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ConnectionCatalogConfig) pulumi.StringArrayOutput { return v.SchemaDenies }).(pulumi.StringArrayOutput)
}

// List of table names to include. Supports wildcards (e.g., 'fact_*'). If set, only these tables are ingested.
func (o ConnectionCatalogConfigOutput) TableAllows() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ConnectionCatalogConfig) pulumi.StringArrayOutput { return v.TableAllows }).(pulumi.StringArrayOutput)
}

// List of table names to exclude. Supports wildcards (e.g., 'tmp_*'). Matching tables are not ingested.
func (o ConnectionCatalogConfigOutput) TableDenies() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ConnectionCatalogConfig) pulumi.StringArrayOutput { return v.TableDenies }).(pulumi.StringArrayOutput)
}

// List of view names to include. Supports wildcards (e.g., 'v_*'). If set, only these views are ingested.
func (o ConnectionCatalogConfigOutput) ViewAllows() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ConnectionCatalogConfig) pulumi.StringArrayOutput { return v.ViewAllows }).(pulumi.StringArrayOutput)
}

// List of view names to exclude. Supports wildcards (e.g., 'secret_*'). Matching views are not ingested.
func (o ConnectionCatalogConfigOutput) ViewDenies() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ConnectionCatalogConfig) pulumi.StringArrayOutput { return v.ViewDenies }).(pulumi.StringArrayOutput)
}

type ConnectionCatalogConfigArrayOutput struct{ *pulumi.OutputState }

func (ConnectionCatalogConfigArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ConnectionCatalogConfig)(nil)).Elem()
}

func (o ConnectionCatalogConfigArrayOutput) ToConnectionCatalogConfigArrayOutput() ConnectionCatalogConfigArrayOutput {
	return o
}

func (o ConnectionCatalogConfigArrayOutput) ToConnectionCatalogConfigArrayOutputWithContext(ctx context.Context) ConnectionCatalogConfigArrayOutput {
	return o
}

func (o ConnectionCatalogConfigArrayOutput) Index(i pulumi.IntInput) ConnectionCatalogConfigOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ConnectionCatalogConfig {
		return vs[0].([]*ConnectionCatalogConfig)[vs[1].(int)]
	}).(ConnectionCatalogConfigOutput)
}

type ConnectionCatalogConfigMapOutput struct{ *pulumi.OutputState }

func (ConnectionCatalogConfigMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ConnectionCatalogConfig)(nil)).Elem()
}

func (o ConnectionCatalogConfigMapOutput) ToConnectionCatalogConfigMapOutput() ConnectionCatalogConfigMapOutput {
	return o
}

func (o ConnectionCatalogConfigMapOutput) ToConnectionCatalogConfigMapOutputWithContext(ctx context.Context) ConnectionCatalogConfigMapOutput {
	return o
}

func (o ConnectionCatalogConfigMapOutput) MapIndex(k pulumi.StringInput) ConnectionCatalogConfigOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ConnectionCatalogConfig {
		return vs[0].(map[string]*ConnectionCatalogConfig)[vs[1].(string)]
	}).(ConnectionCatalogConfigOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ConnectionCatalogConfigInput)(nil)).Elem(), &ConnectionCatalogConfig{})
	pulumi.RegisterInputType(reflect.TypeOf((*ConnectionCatalogConfigArrayInput)(nil)).Elem(), ConnectionCatalogConfigArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ConnectionCatalogConfigMapInput)(nil)).Elem(), ConnectionCatalogConfigMap{})
	pulumi.RegisterOutputType(ConnectionCatalogConfigOutput{})
	pulumi.RegisterOutputType(ConnectionCatalogConfigArrayOutput{})
	pulumi.RegisterOutputType(ConnectionCatalogConfigMapOutput{})
}
