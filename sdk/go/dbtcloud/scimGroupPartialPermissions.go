// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package dbtcloud

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-dbtcloud/sdk/go/dbtcloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-dbtcloud/sdk/go/dbtcloud"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// Retrieve the SCIM-managed group
//			engineering, err := dbtcloud.GetGroups(ctx, &dbtcloud.GetGroupsArgs{
//				Name: pulumi.StringRef("Engineering Team"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			// Get the project to apply permissions to
//			myProject, err := dbtcloud.LookupProject(ctx, &dbtcloud.LookupProjectArgs{
//				Name: pulumi.StringRef("My Analytics Project"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			// Platform team can manage base account permissions
//			_, err = dbtcloud.NewScimGroupPartialPermissions(ctx, "base_access", &dbtcloud.ScimGroupPartialPermissionsArgs{
//				GroupId: pulumi.Int(engineering.Groups[0].Id),
//				Permissions: dbtcloud.ScimGroupPartialPermissionsPermissionArray{
//					&dbtcloud.ScimGroupPartialPermissionsPermissionArgs{
//						PermissionSet: pulumi.String("member"),
//						AllProjects:   pulumi.Bool(true),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			// Project team can manage project-specific permissions independently
//			_, err = dbtcloud.NewScimGroupPartialPermissions(ctx, "project_access", &dbtcloud.ScimGroupPartialPermissionsArgs{
//				GroupId: pulumi.Int(engineering.Groups[0].Id),
//				Permissions: dbtcloud.ScimGroupPartialPermissionsPermissionArray{
//					&dbtcloud.ScimGroupPartialPermissionsPermissionArgs{
//						PermissionSet: pulumi.String("developer"),
//						ProjectId:     pulumi.Int(myProject.Id),
//						AllProjects:   pulumi.Bool(false),
//						WritableEnvironmentCategories: pulumi.StringArray{
//							pulumi.String("development"),
//							pulumi.String("staging"),
//						},
//					},
//					&dbtcloud.ScimGroupPartialPermissionsPermissionArgs{
//						PermissionSet: pulumi.String("job_admin"),
//						ProjectId:     pulumi.Int(myProject.Id),
//						AllProjects:   pulumi.Bool(false),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			// Example: Multiple projects managed by different teams
//			analytics, err := dbtcloud.LookupProject(ctx, &dbtcloud.LookupProjectArgs{
//				Name: pulumi.StringRef("Analytics"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			dataScience, err := dbtcloud.LookupProject(ctx, &dbtcloud.LookupProjectArgs{
//				Name: pulumi.StringRef("Data Science"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			// Analytics team manages their own project permissions
//			_, err = dbtcloud.NewScimGroupPartialPermissions(ctx, "analytics", &dbtcloud.ScimGroupPartialPermissionsArgs{
//				GroupId: pulumi.Int(engineering.Groups[0].Id),
//				Permissions: dbtcloud.ScimGroupPartialPermissionsPermissionArray{
//					&dbtcloud.ScimGroupPartialPermissionsPermissionArgs{
//						PermissionSet: pulumi.String("developer"),
//						ProjectId:     pulumi.Int(analytics.Id),
//						AllProjects:   pulumi.Bool(false),
//						WritableEnvironmentCategories: pulumi.StringArray{
//							pulumi.String("development"),
//						},
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			// Data Science team manages their own project permissions
//			_, err = dbtcloud.NewScimGroupPartialPermissions(ctx, "data_science", &dbtcloud.ScimGroupPartialPermissionsArgs{
//				GroupId: pulumi.Int(engineering.Groups[0].Id),
//				Permissions: dbtcloud.ScimGroupPartialPermissionsPermissionArray{
//					&dbtcloud.ScimGroupPartialPermissionsPermissionArgs{
//						PermissionSet: pulumi.String("analyst"),
//						ProjectId:     pulumi.Int(dataScience.Id),
//						AllProjects:   pulumi.Bool(false),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// ~> **Import Not Supported:** This resource does not support `pulumi import` because it manages only a partial subset of permissions.
//
// # There is no way for Terraform to know which specific permissions this resource instance should manage versus permissions
//
// managed by other resources or applied outside of Terraform. You must define the resource in your configuration from the start.
type ScimGroupPartialPermissions struct {
	pulumi.CustomResourceState

	// The ID of the existing group to manage partial permissions for. This group must already exist and is typically from an external identity provider synced via SCIM.
	GroupId pulumi.IntOutput `pulumi:"groupId"`
	// Partial set of permissions to apply to the group. These permissions will be added to any existing permissions. Other permissions on the group will not be affected.
	Permissions ScimGroupPartialPermissionsPermissionArrayOutput `pulumi:"permissions"`
}

// NewScimGroupPartialPermissions registers a new resource with the given unique name, arguments, and options.
func NewScimGroupPartialPermissions(ctx *pulumi.Context,
	name string, args *ScimGroupPartialPermissionsArgs, opts ...pulumi.ResourceOption) (*ScimGroupPartialPermissions, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.GroupId == nil {
		return nil, errors.New("invalid value for required argument 'GroupId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ScimGroupPartialPermissions
	err := ctx.RegisterResource("dbtcloud:index/scimGroupPartialPermissions:ScimGroupPartialPermissions", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetScimGroupPartialPermissions gets an existing ScimGroupPartialPermissions resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetScimGroupPartialPermissions(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ScimGroupPartialPermissionsState, opts ...pulumi.ResourceOption) (*ScimGroupPartialPermissions, error) {
	var resource ScimGroupPartialPermissions
	err := ctx.ReadResource("dbtcloud:index/scimGroupPartialPermissions:ScimGroupPartialPermissions", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ScimGroupPartialPermissions resources.
type scimGroupPartialPermissionsState struct {
	// The ID of the existing group to manage partial permissions for. This group must already exist and is typically from an external identity provider synced via SCIM.
	GroupId *int `pulumi:"groupId"`
	// Partial set of permissions to apply to the group. These permissions will be added to any existing permissions. Other permissions on the group will not be affected.
	Permissions []ScimGroupPartialPermissionsPermission `pulumi:"permissions"`
}

type ScimGroupPartialPermissionsState struct {
	// The ID of the existing group to manage partial permissions for. This group must already exist and is typically from an external identity provider synced via SCIM.
	GroupId pulumi.IntPtrInput
	// Partial set of permissions to apply to the group. These permissions will be added to any existing permissions. Other permissions on the group will not be affected.
	Permissions ScimGroupPartialPermissionsPermissionArrayInput
}

func (ScimGroupPartialPermissionsState) ElementType() reflect.Type {
	return reflect.TypeOf((*scimGroupPartialPermissionsState)(nil)).Elem()
}

type scimGroupPartialPermissionsArgs struct {
	// The ID of the existing group to manage partial permissions for. This group must already exist and is typically from an external identity provider synced via SCIM.
	GroupId int `pulumi:"groupId"`
	// Partial set of permissions to apply to the group. These permissions will be added to any existing permissions. Other permissions on the group will not be affected.
	Permissions []ScimGroupPartialPermissionsPermission `pulumi:"permissions"`
}

// The set of arguments for constructing a ScimGroupPartialPermissions resource.
type ScimGroupPartialPermissionsArgs struct {
	// The ID of the existing group to manage partial permissions for. This group must already exist and is typically from an external identity provider synced via SCIM.
	GroupId pulumi.IntInput
	// Partial set of permissions to apply to the group. These permissions will be added to any existing permissions. Other permissions on the group will not be affected.
	Permissions ScimGroupPartialPermissionsPermissionArrayInput
}

func (ScimGroupPartialPermissionsArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*scimGroupPartialPermissionsArgs)(nil)).Elem()
}

type ScimGroupPartialPermissionsInput interface {
	pulumi.Input

	ToScimGroupPartialPermissionsOutput() ScimGroupPartialPermissionsOutput
	ToScimGroupPartialPermissionsOutputWithContext(ctx context.Context) ScimGroupPartialPermissionsOutput
}

func (*ScimGroupPartialPermissions) ElementType() reflect.Type {
	return reflect.TypeOf((**ScimGroupPartialPermissions)(nil)).Elem()
}

func (i *ScimGroupPartialPermissions) ToScimGroupPartialPermissionsOutput() ScimGroupPartialPermissionsOutput {
	return i.ToScimGroupPartialPermissionsOutputWithContext(context.Background())
}

func (i *ScimGroupPartialPermissions) ToScimGroupPartialPermissionsOutputWithContext(ctx context.Context) ScimGroupPartialPermissionsOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ScimGroupPartialPermissionsOutput)
}

// ScimGroupPartialPermissionsArrayInput is an input type that accepts ScimGroupPartialPermissionsArray and ScimGroupPartialPermissionsArrayOutput values.
// You can construct a concrete instance of `ScimGroupPartialPermissionsArrayInput` via:
//
//	ScimGroupPartialPermissionsArray{ ScimGroupPartialPermissionsArgs{...} }
type ScimGroupPartialPermissionsArrayInput interface {
	pulumi.Input

	ToScimGroupPartialPermissionsArrayOutput() ScimGroupPartialPermissionsArrayOutput
	ToScimGroupPartialPermissionsArrayOutputWithContext(context.Context) ScimGroupPartialPermissionsArrayOutput
}

type ScimGroupPartialPermissionsArray []ScimGroupPartialPermissionsInput

func (ScimGroupPartialPermissionsArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ScimGroupPartialPermissions)(nil)).Elem()
}

func (i ScimGroupPartialPermissionsArray) ToScimGroupPartialPermissionsArrayOutput() ScimGroupPartialPermissionsArrayOutput {
	return i.ToScimGroupPartialPermissionsArrayOutputWithContext(context.Background())
}

func (i ScimGroupPartialPermissionsArray) ToScimGroupPartialPermissionsArrayOutputWithContext(ctx context.Context) ScimGroupPartialPermissionsArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ScimGroupPartialPermissionsArrayOutput)
}

// ScimGroupPartialPermissionsMapInput is an input type that accepts ScimGroupPartialPermissionsMap and ScimGroupPartialPermissionsMapOutput values.
// You can construct a concrete instance of `ScimGroupPartialPermissionsMapInput` via:
//
//	ScimGroupPartialPermissionsMap{ "key": ScimGroupPartialPermissionsArgs{...} }
type ScimGroupPartialPermissionsMapInput interface {
	pulumi.Input

	ToScimGroupPartialPermissionsMapOutput() ScimGroupPartialPermissionsMapOutput
	ToScimGroupPartialPermissionsMapOutputWithContext(context.Context) ScimGroupPartialPermissionsMapOutput
}

type ScimGroupPartialPermissionsMap map[string]ScimGroupPartialPermissionsInput

func (ScimGroupPartialPermissionsMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ScimGroupPartialPermissions)(nil)).Elem()
}

func (i ScimGroupPartialPermissionsMap) ToScimGroupPartialPermissionsMapOutput() ScimGroupPartialPermissionsMapOutput {
	return i.ToScimGroupPartialPermissionsMapOutputWithContext(context.Background())
}

func (i ScimGroupPartialPermissionsMap) ToScimGroupPartialPermissionsMapOutputWithContext(ctx context.Context) ScimGroupPartialPermissionsMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ScimGroupPartialPermissionsMapOutput)
}

type ScimGroupPartialPermissionsOutput struct{ *pulumi.OutputState }

func (ScimGroupPartialPermissionsOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ScimGroupPartialPermissions)(nil)).Elem()
}

func (o ScimGroupPartialPermissionsOutput) ToScimGroupPartialPermissionsOutput() ScimGroupPartialPermissionsOutput {
	return o
}

func (o ScimGroupPartialPermissionsOutput) ToScimGroupPartialPermissionsOutputWithContext(ctx context.Context) ScimGroupPartialPermissionsOutput {
	return o
}

// The ID of the existing group to manage partial permissions for. This group must already exist and is typically from an external identity provider synced via SCIM.
func (o ScimGroupPartialPermissionsOutput) GroupId() pulumi.IntOutput {
	return o.ApplyT(func(v *ScimGroupPartialPermissions) pulumi.IntOutput { return v.GroupId }).(pulumi.IntOutput)
}

// Partial set of permissions to apply to the group. These permissions will be added to any existing permissions. Other permissions on the group will not be affected.
func (o ScimGroupPartialPermissionsOutput) Permissions() ScimGroupPartialPermissionsPermissionArrayOutput {
	return o.ApplyT(func(v *ScimGroupPartialPermissions) ScimGroupPartialPermissionsPermissionArrayOutput {
		return v.Permissions
	}).(ScimGroupPartialPermissionsPermissionArrayOutput)
}

type ScimGroupPartialPermissionsArrayOutput struct{ *pulumi.OutputState }

func (ScimGroupPartialPermissionsArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ScimGroupPartialPermissions)(nil)).Elem()
}

func (o ScimGroupPartialPermissionsArrayOutput) ToScimGroupPartialPermissionsArrayOutput() ScimGroupPartialPermissionsArrayOutput {
	return o
}

func (o ScimGroupPartialPermissionsArrayOutput) ToScimGroupPartialPermissionsArrayOutputWithContext(ctx context.Context) ScimGroupPartialPermissionsArrayOutput {
	return o
}

func (o ScimGroupPartialPermissionsArrayOutput) Index(i pulumi.IntInput) ScimGroupPartialPermissionsOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ScimGroupPartialPermissions {
		return vs[0].([]*ScimGroupPartialPermissions)[vs[1].(int)]
	}).(ScimGroupPartialPermissionsOutput)
}

type ScimGroupPartialPermissionsMapOutput struct{ *pulumi.OutputState }

func (ScimGroupPartialPermissionsMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ScimGroupPartialPermissions)(nil)).Elem()
}

func (o ScimGroupPartialPermissionsMapOutput) ToScimGroupPartialPermissionsMapOutput() ScimGroupPartialPermissionsMapOutput {
	return o
}

func (o ScimGroupPartialPermissionsMapOutput) ToScimGroupPartialPermissionsMapOutputWithContext(ctx context.Context) ScimGroupPartialPermissionsMapOutput {
	return o
}

func (o ScimGroupPartialPermissionsMapOutput) MapIndex(k pulumi.StringInput) ScimGroupPartialPermissionsOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ScimGroupPartialPermissions {
		return vs[0].(map[string]*ScimGroupPartialPermissions)[vs[1].(string)]
	}).(ScimGroupPartialPermissionsOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ScimGroupPartialPermissionsInput)(nil)).Elem(), &ScimGroupPartialPermissions{})
	pulumi.RegisterInputType(reflect.TypeOf((*ScimGroupPartialPermissionsArrayInput)(nil)).Elem(), ScimGroupPartialPermissionsArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ScimGroupPartialPermissionsMapInput)(nil)).Elem(), ScimGroupPartialPermissionsMap{})
	pulumi.RegisterOutputType(ScimGroupPartialPermissionsOutput{})
	pulumi.RegisterOutputType(ScimGroupPartialPermissionsArrayOutput{})
	pulumi.RegisterOutputType(ScimGroupPartialPermissionsMapOutput{})
}
